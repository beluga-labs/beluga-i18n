import d,{createContext,useState,useEffect,useContext}from'react';import h from'html-react-parser';var i=createContext(null),C=({translations:e,locale:t,reloadKey:n,children:o})=>{let[s,r]=useState(t),[a,l]=useState(n);useEffect(()=>{n!==void 0&&n!==a&&(r(t),l(n));},[n,a,t]),useEffect(()=>{t!==s&&n===void 0&&r(t);},[t,s,n]);let f=p=>{r(p);};return d.createElement(i.Provider,{value:{translations:e,language:s,changeLanguage:f}},o)};var m=(e,t)=>t.split(".").reduce((n,o)=>n?.[o],e),c=(e,t={},n=true)=>{if(typeof e!="string")return e;let o=e.replace(/\{([^}]+)\}/g,(s,r)=>t.hasOwnProperty(r)?String(t[r]):s).replace(/\\\{([^}]+)\\\}/g,(s,r)=>`{${r}}`);return n&&o.includes("<")?h(o):o},$=()=>{let e=useContext(i);if(!e)throw new Error("useTranslations must be used within a TranslationsProvider");let{translations:t,language:n}=e;return {t:(o,s,r=true)=>{let a=m(t?.[n],o);return a?s&&Object.keys(s).length>0?c(a,s,r):r?c(a,{},r):a:(typeof window<"u"&&window.location.hostname==="localhost"&&console.warn(`[beluga-i18n] Missing translation for key: "${o}" in language: "${n}"`),`[${o}]`)},changeLanguage:e.changeLanguage}};export{i as TranslationsContext,C as TranslationsProvider,m as getNestedTranslation,c as interpolateVariables,$ as useTranslation};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map